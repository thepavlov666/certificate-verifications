<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Certificate Verification - Newcastle College Ltd</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');
  body {
    margin: 0; padding: 0;
    font-family: 'Inter', sans-serif;
    background: #f5f9ff;
    color: #012f6b;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header {
    background: #003366;
    padding: 1rem 2rem;
    color: white;
    text-align: center;
  }
  header img {
    height: 50px;
    vertical-align: middle;
  }
  header h1 {
    display: inline-block;
    margin-left: 15px;
    font-weight: 600;
    font-size: 1.5rem;
    vertical-align: middle;
  }
  main {
    flex: 1;
    max-width: 600px;
    margin: 2rem auto;
    background: white;
    padding: 2rem 3rem;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgb(0 0 0 / 0.1);
  }
  main h2 {
    color: #003366;
    margin-bottom: 1rem;
  }
  label {
    display: block;
    margin-top: 1rem;
    font-weight: 600;
  }
  input[type=text] {
    width: 100%;
    padding: 0.6rem;
    margin-top: 0.25rem;
    font-size: 1rem;
    border: 1.5px solid #003366;
    border-radius: 5px;
    transition: border-color 0.3s ease;
  }
  input[type=text]:focus {
    border-color: #00509e;
    outline: none;
  }
  button {
    margin-top: 2rem;
    width: 100%;
    background-color: #003366;
    color: white;
    border: none;
    padding: 0.9rem;
    font-size: 1.1rem;
    font-weight: 700;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.25s ease;
  }
  button:hover {
    background-color: #00509e;
  }
  #result {
    margin-top: 2rem;
    padding: 1.5rem;
    border-radius: 8px;
    font-size: 1rem;
    line-height: 1.5;
  }
  .verified {
    background-color: #e3f4e8;
    border: 2px solid #2e7d32;
    color: #2e7d32;
  }
  .not-found {
    background-color: #fdecea;
    border: 2px solid #c62828;
    color: #c62828;
  }
  footer {
    background: #012f6b;
    padding: 1.2rem 2rem;
    color: white;
    text-align: center;
  }
  footer .sponsors {
    margin-top: 1rem;
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }
  footer .sponsors img {
    height: 40px;
    filter: brightness(0) invert(1);
  }
  .official-links {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: #b3c7f9;
  }
  .official-links a {
    color: #b3c7f9;
    text-decoration: underline;
  }
  .info-small {
    font-size: 0.85rem;
    color: #555;
    margin-top: 1rem;
  }
  #loadingMessage {
    display: none;
    text-align: center;
    margin-top: 1rem;
    font-weight: bold;
    color: #555;
  }
</style>
<script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>

<header>
  <img src="https://www.newcastlecollege.ac.uk/wp-content/themes/ncl/dist/images/logo.svg" alt="Newcastle College Logo" />
  <h1>Certificate Verification</h1>
</header>

<main>
  <h2>Verify Your Qualification</h2>
  <p>Enter the Qualification Number and Candidate Name below to verify your certificate issued by Newcastle College Ltd.</p>

  <button onclick="startScanner()" style="margin-top: 1rem;">üì∑ Scan QR Code</button>
  <div id="qr-reader" style="width:100%; margin-top: 1rem;"></div>

  <form id="verifyForm" onsubmit="verifyQualification(); return false;">
    <label for="qualificationNumber">Qualification Number (Barcode or ID)</label>
    <input type="text" id="qualificationNumber" placeholder="e.g. UKQ-001-A" autocomplete="off" />

    <label for="name">Candidate Name</label>
    <input type="text" id="name" placeholder="e.g. Benjamin Wayne" autocomplete="off" />

    <button type="submit">Verify Certificate</button>
  </form>

  <div id="loadingMessage">Checking...</div>
  <div id="result" aria-live="polite"></div>

  <div class="info-small">
    <strong>Provider Name:</strong> Newcastle College Ltd &nbsp;|&nbsp; <strong>UKPRN:</strong> 10093850<br/>
    This provider is officially listed on the <a href="https://www.ukrlp.co.uk/" target="_blank" rel="noopener noreferrer">UK Register of Learning Providers (UKRLP)</a> as <strong>VERIFIED</strong>.<br/>
    Qualification standards regulated by <a href="https://www.gov.uk/government/organisations/ofqual" target="_blank" rel="noopener noreferrer">OFQUAL</a>.
  </div>
</main>

<footer>
  <div>¬© Newcastle College Ltd - All rights reserved.</div>
  <div class="sponsors">
    <img src="https://via.placeholder.com/120x40?text=Sponsor+1" alt="Sponsor 1 Logo" />
    <img src="https://via.placeholder.com/120x40?text=Sponsor+2" alt="Sponsor 2 Logo" />
    <img src="https://via.placeholder.com/120x40?text=Sponsor+3" alt="Sponsor 3 Logo" />
  </div>
</footer>

<script>
  const validQualifications = [
    { qualificationNumber: 'UKQ-001-A', name: 'Benjamin Wayne', level: 'Level 3 Diploma in IT', awardedBy: 'City & Guilds', year: '2023' },
    { qualificationNumber: 'UKQ-002-B', name: 'Sarah Thompson', level: 'Level 2 Certificate in Health & Social Care', awardedBy: 'NCFE', year: '2022' },
    { qualificationNumber: 'UKQ-003-C', name: 'Daniel Ahmed', level: 'Level 4 Certificate in Business Management', awardedBy: 'Pearson Edexcel', year: '2024' }
  ];

  const numberInput = document.getElementById('qualificationNumber');
  const nameInput = document.getElementById('name');
  const resultDiv = document.getElementById('result');
  const loading = document.getElementById('loadingMessage');

  numberInput.addEventListener('input', () => { resultDiv.innerHTML = ''; });
  nameInput.addEventListener('input', () => { resultDiv.innerHTML = ''; });

  function verifyQualification() {
    const number = numberInput.value.trim();
    const name = nameInput.value.trim();

    if (!number || !name) {
      resultDiv.innerHTML = '<div class="not-found">‚ùå <strong>INPUT REQUIRED</strong><br>Please enter both a Qualification Number and Candidate Name to proceed.</div>';
      return;
    }

    loading.style.display = 'block';
    setTimeout(() => {
      loading.style.display = 'none';
      const match = validQualifications.find(entry =>
        entry.qualificationNumber.toLowerCase() === number.toLowerCase() &&
        entry.name.toLowerCase() === name.toLowerCase()
      );

      if (match) {
        resultDiv.innerHTML = `<div class="verified">‚úÖ <strong>VERIFIED CERTIFICATE</strong><br><br><b>Name:</b> ${match.name}<br><b>Qualification:</b> ${match.level}<br><b>Awarded By:</b> ${match.awardedBy}<br><b>Year Awarded:</b> ${match.year}<br><br><i>Stored securely in the Newcastle College‚Ñ¢ National Record Vault.</i><br><b>OFQUAL Regulated Qualification</b></div>`;
      } else {
        resultDiv.innerHTML = '<div class="not-found">‚ùå <strong>NOT FOUND</strong><br>The qualification number or candidate name appears invalid or unregistered in the Newcastle College‚Ñ¢ database.<br>Please check your details and try again or contact Newcastle College for assistance.</div>';
      }
    }, 1500);
  }

  function startScanner() {
    const qrReader = new Html5Qrcode("qr-reader");

    qrReader.start(
      { facingMode: "environment" },
      {
        fps: 10,
        qrbox: 250
      },
      (decodedText) => {
        qrReader.stop();
        document.getElementById("qr-reader").innerHTML = "";

        const parts = decodedText.split("|");
        if (parts.length === 2) {
          numberInput.value = parts[0];
          nameInput.value = parts[1];
          verifyQualification();
        } else {
          resultDiv.innerHTML = '<div class="not-found">‚ùå <strong>INVALID QR FORMAT</strong><br>Expected format: <code>QualificationNumber|Candidate Name</code></div>';
        }
      },
      (error) => {
        console.warn(`QR Scan Error: ${error}`);
      }
    ).catch((err) => {
      resultDiv.innerHTML = `<div class="not-found">‚ùå <strong>Camera Access Failed</strong><br>${err}</div>`;
    });
  }
</script>

</body>
</html>
